{% extends '::base.html.twig' %}

{% block title %}Votre compte{% endblock %}


{% block content %}

    <!-- autocomplete -->
    <!-- Include Google Maps JS API -->
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyACy7onU8CqMCYELVjWBJhGjiG6Wo_Sths">
    </script>
    <script type="text/javascript" src="{{ asset('bundles/app/js/autocomplete.js') }}"></script>

    <div class="container">
        -
        -        {% if app.request.attributes.get('_route') == "app_my_account" %}
            -            <h1>Votre compte</h1>
            -            <ul>
                -                <li>E-mail : {{ app.user.email }}</li>
                -                <li>Mot de passe : <a href="{{ path('app_password_change') }}">Changez votre mot de passe</a></li>
                -            </ul>
            -        {% endif %}
        +        <h1>Votre compte</h1>
        +        <ul>
            +            <li>E-mail : {{ app.user.email }}</li>
            +            <li>Mot de passe : <a href="{{ path('app_password_change') }}">Changez votre mot de passe</a></li>
            +        </ul>
        Vos adresses :
        {% if app.user.address is not empty %}
            <ul>
                @@ -29,7 +26,7 @@
                {% endfor %}
            </ul>
        {% else %}
            -            <p>Aucune adresse renseignée !</p>
            +            <p>Aucune adresse renseigné ! :'(</p>
        {% endif %}

        <h2>Ajouter une adresse</h2>
        @@ -48,18 +45,23 @@
        {{ form_row(form.city) }}

        {# Génération automatique des champs pas encore écrits.
+         Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
         et tous les champs cachés (type « hidden »). #}
        {{ form_rest(form) }}

        <button type="submit" class="btn btn-default">Ajouter</button>
        {# Fermeture de la balise <form> du formulaire HTML #}
        {{ form_end(form) }}


        {% if (app.request.attributes.get('_route') == "app_address") and (app.user.address.count == 3) %}
            <a href = {{ path('app_saveBasket') }}> <button type="button" class ="btn btn-default">  Finaliser ma commande  </button> </a>


        {% endif %}


    </div>
{% endblock %}